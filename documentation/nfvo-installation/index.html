<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>OpenBaton Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,400,300,600,700" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Install NFVO";
    var mkdocs_page_input_path = "nfvo-installation.md";
    var mkdocs_page_url = "/nfvo-installation/";
     var mkdocs_page_url = "/nfvo-installation/";
  </script>
  
  <!-- site_name == OpenBaton Documentation -->
  <!-- page_title == Install NFVO -->
  <!-- base_url == .. -->
  <!-- current_page == Install NFVO - /nfvo-installation/ [*]
 -->
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-68429895-1', 'openbaton.github.io');
      ga('send', 'pageview');
  </script>
  

<style>

.subnav_drop{
  cursor: pointer;


}

ul.subnav {
/*display:none ;*/
cursor: pointer;
border-bottom: 1px solid #e1e1e5;
}

.subnav:last-child{
  border-bottom: none;

}

ul.subnav:active {
display:block;
}

.wy-menu-vertical li ul {
display: block;

  }

</style>
</head>

<body role="document">

<script type="text/javascript">
$( document).ready(function(){
      //console.log("test");

    //$('.subnav').not( ":has('Install NFVO')" ).hide();
    $('li.subnav_drop').find('ul.subnav').hide();
    //$('li.subnav_drop').find('ul.subnav').each(function(i,e){console.log(i,e)});
       $( ".subnav" ).find( "li:contains('Install NFVO')" ).each(function(i,e){
          var currentElement = $(e);
          currentElement.parent().css({"display":"block","visibility":"visible"}); //css("background-color","blue");
          currentElement.css({"display":"block","visibility":"visible"});
       });//$( ".subnav" ).find( "li:contains('Install NFVO')" ).css("display","block");
       //$(".current").css({"background-color":"blue","display":"block","visibility":"visible"});
       //show(1000,function(i,e){console.log(i,e)});
       //$('li.subnav_drop').find('ul.subnav').css("background-color","blue");
      //$(this).find('ul.subnav').toggle();
    $('li.subnav_drop').click(function(i,e) {  
      $('li.subnav_drop').not(this).find('ul.subnav').hide();
      $(this).find('ul.subnav').toggle();
    }); 

});
   
$( ".wy-nav-content" ).find( "li:contains('Install NFVO')" ).css('color','red');
console.log('--------');
console.log($( ".wy-nav-content" ).find( "div:contains('Install NFVO')" ).css("color","red"));
console.log('--------');
console.log($( ".subnav" ).find( "li:contains('Install NFVO')" ));
console.log('--------');
  </script>



<div class="navcontainer" style="margin:0px; background:#000;">
    <div class="navholder">
      <nav>
        <a href="../../index.html" class="logo"></a>
        <a href="#" id="menu-icon"></a>
        <ul class="navigation">
          
                <li><a href="../../index.html#about">About</a></li>
                <li><a href="../../cases.html">Use Cases</a></li>
                <li><a href="../../features.html">Features</a></li>
                <li><a href="#">Documentation</a></li>
                <li><a href="../../index.html#contact">Contact</a></li>
                <li><a href="https://github.com/openbaton">GitHub</a></li>
          </ul>
      </nav>
     </div>
</div>
<div  class="container">
  <div class="holder"> 
        <div class="wy-grid-for-nav">

          
          <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
              <ul class="current">
                
		
                  <li><ul> 
    
   
    <li class="subnav_drop"><span>Get Started</span>
<ul class="subnav">
        
             

    <li class="toctree-l1 ">
        <a class="" href="..">Get Started</a>
        
    </li>


        
</li>
</ul>
    
</ul></li>
                 
		
		
                  <li><ul> 
    
   
    <li class="subnav_drop"><span>Installation</span>
<ul class="subnav">
        
             

    <li class="toctree-l1 ">
        <a class="" href="../install/">Overview</a>
        
    </li>


        
             

    <li class="toctree-l1 current">
        <a class="current" href="./">Install NFVO</a>
        
         
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../vim-instance/">Register a PoP</a>
        
    </li>


        
</li>
</ul>
    
</ul></li>
                 
		
		
                  <li><ul> 
    
   
    <li class="subnav_drop"><span>Use it</span>
<ul class="subnav">
        
             

    <li class="toctree-l1 ">
        <a class="" href="../use/">Introduction</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../vnfm-generic/">Generic VNFM</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../vnfm-how-to-write/">Write your own VNFM</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../vnfm-vendor-specific/">Integrate your own VNFM</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../vnfpackage/">Create your own VNF Package</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../ns-descriptor/">Create the NSD</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../nfvo-how-to-use-gui/">Use via the Dashboard</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../nfvo-sdk/">Use via the SDK</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../zabbix-plugin/">Use Zabbix plugin</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../integration-test-use/">Integration Tests</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../use-case-example/">A full example</a>
        
    </li>


        
</li>
</ul>
    
</ul></li>
                 
		
		
                  <li><ul> 
    
   
    <li class="subnav_drop"><span>Extend it</span>
<ul class="subnav">
        
             

    <li class="toctree-l1 ">
        <a class="" href="../extend/">Extend it</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../nfvo-architecture/">NFVO Architecture</a>
        
    </li>


        
             

    <li class="toctree-l1 ">
        <a class="" href="../vim-plugin/">Write your own Plugin</a>
        
    </li>


        
</li>
</ul>
    
</ul></li>
                 
		
		
                  <li><ul> 
    
   
    <li class="subnav_drop"><span>FAQ</span>
<ul class="subnav">
        
             

    <li class="toctree-l1 ">
        <a class="" href="../FAQ/">FAQ</a>
        
    </li>


        
</li>
</ul>
    
</ul></li>
                 
		
		
		
		
		
		
		
		
		
		
		
		
		
              </ul>
            </div>
            &nbsp;
          </nav>
        </div>
    <div class="content_container">
        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

         

          
                <div class="wy-nav-content">
                  <div class="rst-content">
                   
                    <div role="main">
                      <div class="section">
                        
                          <h2 id="install-nfvo">Install NFVO</h2>
<p>The NFVO is implemented in java using the <a href="https://spring.io">spring.io</a> framework. For more details about the NFVO architecture, you can refer to the extend it section.</p>
<h3 id="install-the-latest-nfvo-version-from-the-source-code">Install the latest NFVO version from the source code</h3>
<p>The NFVO can be installed using different mechanisms. In this how to we will show you how to instantiate it using directly from the git repo. </p>
<p>The NFVO uses the AMQP protocol for communicating with the VNFMs. Therefore an implementation of it is necessary, we chose <a href="https://www.rabbitmq.com/">RabbitMQ</a>.
To facilitate the installation procedures we provide an installation script which can be used for installing the NFVO and the prerequired libraries.
Considering that this script needs to install some system libraries, it is required to execute it as super user.
To execute the following command you need to have curl installed (see http://curl.haxx.se/). </p>
<pre><code class="bash">bash &lt;(curl -fsSkL http://get.openbaton.org/bootstrap)
</code></pre>

<p>At the end of the installation procedure, if there are no errors, the dashboard is reachable at: <a href="http://localhost:8080/">localhost:8080</a> and you should have the following structure:</p>
<pre><code class="bash">/opt/openbaton/
├── generic-vnfm
└── nfvo
</code></pre>

<p>Where:</p>
<ul>
<li><code>generic-vnfm</code>contains the source code and scripts required for dealing with the generic-vnfm  </li>
<li><code>nfvo</code> contains the source code and scripts of the NFVO</li>
</ul>
<p>At this point the NFVO is ready to be used. Please refer to the <a href="../use/">Introduction</a> on how to start using it.</p>
<h3 id="starting-and-stopping-nfvo">Starting and stopping NFVO</h3>
<p>After the installation procedure the nfvo is running. If you want to stop it, enter this command:</p>
<pre><code class="bash">cd /opt/openbaton/nfvo
./openbaton.sh stop
</code></pre>

<p><strong>Note (in case you are also using the generic-vnfm):</strong> remember to stop also the Generic VNFM with the following command:</p>
<pre><code class="bash">cd /opt/openbaton/generic-vnfm
./generic-vnfm.sh stop
</code></pre>

<p>To start the nfvo, enter the command:</p>
<pre><code class="bash">cd /opt/openbaton/nfvo
./openbaton.sh start
</code></pre>

<p><strong>Note (in case you are also using the generic-vnfm):</strong> remember to start also the Generic VNFM with the following command:</p>
<pre><code class="bash">cd /opt/openbaton/generic-vnfm
./generic-vnfm.sh start
</code></pre>

<h3 id="nfvo-properties-overview">NFVO properties overview</h3>
<p>The NFVO is configured with default configuration parameters at the beginning. The configuration file is located at: </p>
<pre><code class="bash">/etc/openbaton/openbaton.properties
</code></pre>

<p>This file can be modified for specific parameters. For instance, you can decide to change logging levels (TRACE, DEBUG, INFO, WARN, and ERROR) and mechanisms:</p>
<pre><code class="properties">logging.level.org.springframework=INFO
logging.level.org.hibernate=INFO
logging.level.org.apache=INFO
logging.level.org.jclouds=WARN
# logging.level.org.springframework.security=WARN
logging.level.org.springframework.web = WARN

# Level for loggers on classes inside the root package &quot;org.project.openbaton&quot; (and its
# sub-packages)
logging.level.org.openbaton=INFO

# Direct log to a log file
logging.file=/var/log/openbaton.log
</code></pre>

<p>Or parameters related with persistency (hibernate):</p>
<pre><code class="properties"># DB properties
spring.datasource.username=admin
spring.datasource.password=changeme
# hsql jdbc
spring.datasource.url=jdbc:hsqldb:file:/tmp/openbaton/openbaton.hsdb
spring.datasource.driver-class-name=org.hsqldb.jdbc.JDBCDriver
spring.jpa.database-platform=org.hibernate.dialect.HSQLDialect
# mysql jdbc
#spring.datasource.url=jdbc:mysql://localhost:3306/openbaton
#spring.datasource.driver-class-name=com.mysql.jdbc.Driver
#spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
# hibernate properties
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=create-drop


</code></pre>

<p><strong>IMPORTANT NOTE:</strong>
By default RabbitMQ is installed on the host of the NFVO. Be aware of the fact that if you want your VNFM to be executed on a different host, you will need RabbitMQ to be reachable also from the outside.<br />
So when you want to deploy a VNF (EMS) in a VM which runs on a different host in respect to the NFVO, you will need to configure the rabbitmq endpoint (<strong>nfvo.rabbit.brokerIp</strong>) with the real IP of the NFVO host (instead of localhost).
What we suggest is to copy entirely <em>/opt/openbaton/NFVO/etc/openbaton.properties</em> to <em>/etc/openbaton/openbaton.properties</em> and then change: </p>
<pre><code class="properties">nfvo.rabbit.brokerIp = localhost 
</code></pre>

<p>to</p>
<pre><code class="properties">nfvo.rabbit.brokerIp = the rabbitmq broker ip (if you run the openbaton.sh update then will be the ip where the NFVO is running) 
</code></pre>

<p>These are other parameters about the configuration of Rabbit MQ:</p>
<pre><code class="properties">#########################################
############## RabbitMQ #################
#########################################

# Comma-separated list of addresses to which the client should connect to.
# spring.rabbitmq.addresses=${nfvo.rabbit.brokerIp}
# Create an AmqpAdmin bean.
spring.rabbitmq.dynamic=true
# RabbitMQ host.
spring.rabbitmq.host= ${nfvo.rabbit.brokerIp}
# spring.rabbitmq.host= localhost
# Acknowledge mode of container.
# spring.rabbitmq.listener.acknowledge-mode=
# Start the container automatically on startup.
# spring.rabbitmq.listener.auto-startup=true
# Minimum number of consumers.
spring.rabbitmq.listener.concurrency= 5
# Maximum number of consumers.
spring.rabbitmq.listener.max-concurrency= 30
# Number of messages to be handled in a single request. It should be greater than or equal to the transaction size (if used).
# spring.rabbitmq.listener.prefetch=
# Number of messages to be processed in a transaction. For best results it should be less than or equal to the prefetch count.
# spring.rabbitmq.listener.transaction-size=
# Login user to authenticate to the broker.
spring.rabbitmq.username= admin
# Login to authenticate against the broker.
spring.rabbitmq.password= openbaton
# RabbitMQ port.
spring.rabbitmq.port=5672
# Requested heartbeat timeout, in seconds; zero for none.
# spring.rabbitmq.requested-heartbeat=
# Enable SSL support.
# spring.rabbitmq.ssl.enabled=false
# Path to the key store that holds the SSL certificate.
# spring.rabbitmq.ssl.key-store=
# Password used to access the key store.
# spring.rabbitmq.ssl.key-store-password=
# Trust store that holds SSL certificates.
# spring.rabbitmq.ssl.trust-store=
# Password used to access the trust store.
# spring.rabbitmq.ssl.trust-store-password=
# Virtual host to use when connecting to the broker.
# spring.rabbitmq.virtual-host=

</code></pre>

<p>These parameters represent the maximum file size of the VNF Package which can be uploaded to the NFVO and the total maximum request size</p>
<pre><code class="properties"># filesUpload
multipart.maxFileSize=2046MB
multipart.maxRequestSize=2046MB
</code></pre>

<p>The following properties are related to the plugin mechanism used for loading VIM and Monitoring instances. The <code>vim-plugin-installation-dir</code> is the directory where all the jar files are, which implement the VIM interface (see the <a href="../vim-plugin">vim plugin documentation</a>). The NFVO will load them at runtime.  </p>
<pre><code class="properties">########## plugin install ###############
# directory for the vim driver plugins
plugin-installation-dir = ./plugins
</code></pre>

<p>This property allows the user to delete the Network Service Records no matter in which status are they. Pleas note that in any case it is possible to remove a Network Service Record in <em>NULL</em> state.</p>
<pre><code class="properties"># nfvo behaviour
nfvo.delete.all-status = true 
</code></pre>

<p><strong>MONITORING:</strong> Openbaton allows the monitoring of the VNFs via Zabbix. If you want to use this feature, install and configure Zabbix server following the guide at this page <a href="../zabbix-server-configuration/">Zabbix server configuration</a>.
Once the Zabbix server is correctly configured and running, you need only to add following property. 
Every time a new Network Service is instantiated, each VNFC (VM) is automatically registered to Zabbix server.</p>
<pre><code class="properties">nfvo.monitoring.ip = the Zabbix server ip
</code></pre>

<p>These are other parameters about the configuration of the nfvo behaviour:</p>
<pre><code class="properties">nfvo.delete.wait = false 

nfvo.rabbit.brokerIp = the broker ip here 
nfvo.rabbit.autodelete = true 
nfvo.plugin.active.consumers = 5 
nfvo.rabbit.minConcurrency = 5 
nfvo.rabbit.maxConcurrency = 15 
nfvo.rabbit.management.port = 15672 
</code></pre>

<p>Those properties are needed in case you want to tune a bit the performances of the NFVO. When the VNFMs send a message to the NFVO, there is a pool of threads able to process these messages in parallel. These parameters allows you to change the pool configuration, for more details please check the <a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html">spring documentation regarding thread pool executor</a> </p>
<pre><code class="properties"># Thread pool executor configuration
# for info see http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html
vmanager-executor-core-pool-size = 20
vmanager-executor-max-pool-size = 25
vmanager-executor-queue-capacity = 500
vmanager-keep-alive = 30
</code></pre>

<p>Whenever some of those parameters are changed, you will need to restart the orchestrator.</p>
<h3 id="lets-move-to-the-next-step">Let's move to the next step</h3>
<p>Dependening on the approach used for deploying your VNF, you'll have either to install the generic-VNFM or install and register your own VNFM</p>
<!---
Script for open external links in a new tab
-->

<script type="text/javascript" charset="utf-8">
      // Creating custom :external selector
      $.expr[':'].external = function(obj){
          return !obj.href.match(/^mailto\:/)
                  && (obj.hostname != location.hostname);
      };
      $(function(){
        $('a:external').addClass('external');
        $(".external").attr('target','_blank');
      })
</script>
                        
                      </div>
                    </div>
                    <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../vim-instance/" class="btn btn-neutral float-right" title="Register a PoP"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../install/" class="btn btn-neutral" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          	  
                  </div>
                </div>

        </section>
    </div>
  </div>
</div>



</body>
</html>

